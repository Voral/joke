# Joke — Микро-фреймворк для PHP

Joke — это учебный микрофреймворк с ручной маршрутизацией и встроенным DI-контейнером. Он разрабатывается в рамках
образовательного челленджа и не претендует на конкуренцию с промышленными решениями, такими как Laravel или Symfony.

Несмотря на скромный функционал, реализуемые компоненты стремятся быть надёжными, тестируемыми и пригодными для
использования в реальных проектах — в том числе в обучающих или прототипных задачах.

## Цель и философия

Фреймворк создаётся в рамках ограниченного набора правил:
> Запрещено использовать готовые решения, за исключением:
>   - Composer (для автозагрузки и управления зависимостями),
>   - PHPUnit (для тестирования),
>   - voral/version-increment (для управления версиями).

Конечная цель челленджа — реализовать полноценный движок форума на основе собственного кода, без внешних фреймворков или
библиотек, решающих ключевые задачи (ORM, аутентификация, шаблонизация и т.п.).

После завершения челленджа планируется развивать Joke как самостоятельный инструмент, расширяя его модульной
архитектурой и добавляя только те компоненты, которые действительно нужны.

## Архитектурная концепция

Joke следует принципу минимализма и модульности:

- Базовая поставка включает только ядро: маршрутизацию, DI-контейнер и middleware.
- Такие компоненты, как шаблонизатор, работа с базой данных, авторизация, логирование и т.д., не входят в ядро.
- Они будут реализованы как отдельные, подключаемые модули, что позволяет гибко настраивать стек под конкретную задачу.

Этот подход упрощает обучение, снижает порог входа и даёт полный контроль над зависимостями.

## Текущий функционал

На данный момент реализованы следующие ключевые возможности

- Ручная маршрутизация HTTP-запросов
- DI-контейнер с поддержкой автовайринга параметров
- Система middleware (блокирующие и неблокирующие)
- Управление сессиями (включая поддержку «неблокирующего» режима — данные сессии считываются в начале обработки запроса,
  после чего сессия немедленно закрывается, позволяя другим запросам от того же пользователя работать параллельно без
  ожидания завершения текущего.)
- Обработка ошибок и исключений

## Версионирование

Все релизы Joke и его модулей следуют
спецификации [Семантического версионирования (SemVer 2.0.0)](https://semver.org/lang/ru/).

- Патч-версии (x.y.Z) — исправления багов без изменений в публичном API.
- Минорные версии (x.Y.z) — обратно совместимые улучшения и новые функции.
- Мажорные версии (X.y.z) — изменения, нарушающие обратную совместимость.

Это гарантирует предсказуемость обновлений и безопасность при работе с зависимостями.

## Планы развития (этапы челленджа)

- [ ] **Ядро фреймворка**
    - [x] Реализация маршрутизации
    - [x] Реализация DI контейнер
    - [ ] Консольная система команд
    - [ ] Авторизация
    - [ ] Валидация данных
    - [x] Обработка ошибок
    - [ ] Логирование
    - [ ] Создание построителя SQL запросов
    - [ ] Миграции
    - [ ] Настраиваемое окружение через .env файл
- [ ] **Шаблонизатор**
    - [ ] Создание базового шаблонизатора HTML
    - [ ] Рендер Markdown файлов для быстрого создания документационных сайтов из .md файлов.
    - [ ] Рендер Swagger yaml файлов для автоматического отображения OpenAPI-спецификаций без внешних UI (например, без
      Swagger UI)
- [ ] **Движок форума** (целевой проект челенджа)
- [ ] **Создание скелетонов**
    - [ ] REST API приложения
    - [ ] Приложения веб представления Markdown файлов

## Документация

- Начало работы
    - [Установка фреймворка](./start/install.md)
    - [Структура каталогов](./start/structure.md)
- Основное
    - [Маршрутизация](./base/routing.md)
    - [Middleware](./base/middleware.md)
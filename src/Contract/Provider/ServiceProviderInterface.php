<?php

declare(strict_types=1);

namespace Vasoft\Joke\Contract\Provider;

/**
 * Базовый контракт для всех сервис-провайдеров.
 * Определяет жизненный цикл регистрации и инициализации сервиса.
 */
interface ServiceProviderInterface
{
    /**
     * Регистрация сервисов и зависимостей в контейнере.
     * На этом этапе не следует выполнять тяжелую логику или использовать другие сервисы,
     * если они не гарантированно зарегистрированы.
     */
    public function register(): void;

    /**
     * Инициализация сервиса после регистрации всех зависимостей.
     * Здесь безопасно использовать другие сервисы из контейнера.
     */
    public function boot(): void;

    /**
     * Возвращает список сервисов (классов или интерфейсов), необходимых данному провайдеру.
     * Менеджер провайдеров гарантирует, что указанные сервисы будут зарегистрированы
     * до вызова методов register() и boot() текущего провайдера.
     *
     * @return list<class-string>
     */
    public function requires(): array;

    /**
     * Возвращает список сервисов (классов или интерфейсов), которые предоставляет данный провайдер.
     * Эти имена используются контейнером для сопоставления запрошенного сервиса с конкретным провайдером.
     *
     * @return list<class-string>
     */
    public function provides(): array;
}
